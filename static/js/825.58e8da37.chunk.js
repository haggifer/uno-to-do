"use strict";(self.webpackChunkuno_to_do=self.webpackChunkuno_to_do||[]).push([[825],{758:function(t,e,n){n.d(e,{w:function(){return c}});var i=n(1413),r=n(5051),o=n(3967),s=n(2791),a=n(184),l=["clearIndicator","control","dropdownIndicator","group","groupHeading","indicatorsContainer","indicatorSeparator","input","loadingIndicator","menu","menuList","menuPortal","loadingMessage","noOptionsMessage","multiValue","multiValueLabel","multiValueRemove","option","placeholder","singleValue","valueContainer"],c=function(t){var e=(0,o.Z)(),n=(0,s.useMemo)((function(){return{control:{background:e.palette.custom.formItemBg,"& *":{color:e.palette.text.primary}},singleValue:{"&, & *":{color:e.palette.text.primary}},multiValue:{"&, & *":{color:e.palette.text.primary}},menu:{zIndex:2,marginTop:0,background:e.palette.custom.formItemBg},option:{background:e.palette.custom.formItemBg,"&:hover":{background:e.palette.custom.formItemHoverBg},"&.react-select__option--is-selected":{background:e.palette.custom.formItemSelectedBg}}}}),[e]);return(0,a.jsx)(r.ZP,(0,i.Z)((0,i.Z)({},t),{},{classNamePrefix:t.classNamePrefix||"react-select",styles:Object.fromEntries(l.map((function(e){return[e,function(r){return(0,i.Z)((0,i.Z)((0,i.Z)({},r),n[e]||{}),t.styles&&t.styles[e]||{})}]})))}))}},4825:function(t,e,n){n.d(e,{kQ:function(){return Zt},ft:function(){return ft},wk:function(){return ht},AP:function(){return mt}});var i=n(1413),r=n(9439),o=n(3967),s=n(5193),a=n(890),l=n(5228),c=n(3896),u=n(4554),d=n(6151),x=n(2791),p=n(9174),m=n(1444),f=n(151),h=n(7060),Z=n(1694),j=n.n(Z),g=n(5155),v=n(7924),b=n(4925),k=n(3400),y=n(2567),C=n(9823),w=n(1131),S=n(2885),T=n(2426),_=n.n(T),I=n(6474),z=n(3385),H=n(2271),O=n(4165),A=n(5861),B=n(3153),W=n(4882),P=n(7091),D=n(9745),N=n(7397),M=n(184),E=function(t){var e=t.onClose,n=t.task,i=(0,B.T)(),r=(0,o.Z)(),l=(0,s.Z)(r.breakpoints.up("md")),c=(0,B.C)(P.U),x=function(){var t=(0,A.Z)((0,O.Z)().mark((function t(){return(0,O.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i((0,W._5)(n.id));case 2:e();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,M.jsxs)(u.Z,{sx:function(t){return{width:l?"310px":void 0,maxWidth:"100%","& > *":{width:"100%"}}},children:[(0,M.jsx)(a.Z,{variant:"h3",sx:{fontSize:"24px",lineHeight:"24px",marginBottom:"24px"},children:"Are you sure?"}),(0,M.jsx)(a.Z,{sx:function(t){return{fontSize:"14px",lineHeight:"20px",color:t.palette.custom.grey[2]}},children:"Task will be permanently deleted"}),(0,M.jsxs)(u.Z,{sx:{display:"flex",justifyContent:"flex-end",mt:4,"& > *:not(:last-child)":{mr:2}},children:[(0,M.jsx)(d.Z,{onClick:e,variant:"text",children:"Cancel"}),(0,M.jsxs)(d.Z,{onClick:x,variant:"contained",color:"error",disabled:c.loading.includes(N.AP),children:["Delete",c.loading.includes(N.AP)&&(0,M.jsx)(D.l,{})]})]})]})},F=n(2639),R=n(2062),V=n(8875),L=200,q=function(t){var e=t.activeTask,n=t.setActiveTask,l=t.updateTask,c=(0,x.useRef)(null),d=(0,o.Z)(),m=(0,s.Z)(d.breakpoints.up("md")),Z=(0,s.Z)(d.breakpoints.up("sm")),j=(0,x.useState)(320),T=(0,r.Z)(j,2),O=T[0],A=T[1],B=(0,x.useMemo)((function(){return Z?"".concat(O,"px"):"100vw"}),[O,Z]),W=(0,x.useState)(!0),P=(0,r.Z)(W,2),D=P[0],N=P[1],q=(0,x.useState)(""),Q=(0,r.Z)(q,2),U=Q[0],G=Q[1],X=(0,x.useState)(""),J=(0,r.Z)(X,2),K=J[0],Y=J[1],$=(0,x.useState)(!1),tt=(0,r.Z)($,2),et=tt[0],nt=tt[1],it=(0,x.useState)(!1),rt=(0,r.Z)(it,2),ot=rt[0],st=rt[1],at=(0,x.useState)(null),lt=(0,r.Z)(at,2),ct=lt[0],ut=lt[1],dt=(0,x.useState)(!1),xt=(0,r.Z)(dt,2),pt=xt[0],mt=xt[1];(0,x.useEffect)((function(){A(320)}),[Z]),(0,x.useEffect)((function(){G((null===e||void 0===e?void 0:e.title)||""),Y((null===e||void 0===e?void 0:e.note)||"");var t=ct&&(0,h.tQ)(ct);e&&e.due_date!==t&&ut(null!==e&&void 0!==e&&e.due_date?_()(e.due_date):null)}),[e]),(0,x.useEffect)((function(){et||st(!1)}),[et]),(0,x.useEffect)((function(){var t=ct&&ct.toISOString();e&&(null===e||void 0===e?void 0:e.due_date)!==t&&l({id:e.id,due_date:ct&&(0,h.tQ)(ct)})}),[ct]);var ft=(0,x.useCallback)((function(){U&&l({id:e.id,title:U})}),[e,U,l]),ht=(0,x.useCallback)((function(){K&&l({id:e.id,note:K})}),[e,K,l]),Zt=(0,x.useCallback)((function(t){l({id:e.id,completed:!e.completed}),t.stopPropagation()}),[e,l]),jt=(0,x.useCallback)((function(t){l({id:e.id,important:!e.important}),t.stopPropagation()}),[e,l]),gt=(0,x.useCallback)((function(t){nt(!1),e.due_date&&l({id:e.id,due_date:null}),t.stopPropagation()}),[e,l]),vt=(0,x.useCallback)((function(t){var n=(0,h.tQ)(_()((0,h.Il)(t)));l({id:e.id,due_date:n})}),[e,l]),bt=function(t,e){e.node;var n=e.size;e.handle;A(n.width)},kt=function(t,e){switch(t){case"entering":case"entered":return{right:0};case"exiting":case"exited":return{right:"-".concat(B)};default:return{}}},yt=(0,x.useMemo)((function(){return(0,M.jsx)(u.Z,{sx:function(t){return{display:"flex",flexDirection:"column",justifyContent:"space-between",width:"100%",minHeight:"100vh",pt:m?8:4,px:m?4:3,pb:m?4:3,background:t.palette.custom.basicBg}},children:!!e&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(u.Z,{children:[(0,M.jsxs)(u.Z,{sx:{display:"flex",alignItems:"flex-start",pt:"8px"},children:[(0,M.jsx)(u.Z,{sx:{display:"flex",alignItems:"center",height:"28px"},children:(0,M.jsx)(p.Z,{checked:e.completed,onClick:Zt,sx:function(t){return{p:0,color:t.palette.custom.grey[4]}}})}),(0,M.jsx)(g.Z,{value:U,onChange:function(t){return G(t.currentTarget.value)},onBlur:ft,placeholder:"Task name cannot be empty",multiline:!0,sx:function(t){return{mx:4,"&, & *":{"&, &:focus":{border:"0 !important",outline:"0 !important",padding:"0 !important",fontSize:"22px !important",lineHeight:"28px !important","&::placeholder":{opacity:"1 !important",color:"".concat(t.palette.custom.grey[4]," !important")}}}}}}),(0,M.jsx)(u.Z,{sx:{display:"flex",alignItems:"center",height:"28px",ml:"auto"},children:(0,M.jsx)(u.Z,{onClick:jt,sx:{ml:"auto",cursor:"pointer"},children:e.important?(0,M.jsx)(f.Z,{sx:function(t){return{display:"block",fill:t.palette.custom.red}}}):(0,M.jsx)(f.Z,{sx:function(t){return{display:"block",fill:t.palette.custom.grey[2]}}})})})]}),(0,M.jsx)(v.Z,{sx:{my:4}}),(0,M.jsxs)(u.Z,{children:[(0,M.jsxs)(u.Z,{onClick:function(){nt(!et)},sx:function(t){return{display:"flex",alignItems:"center",cursor:"pointer"}},children:[(0,M.jsx)(y.Z,{sx:function(t){return{color:e.due_date?t.palette.primary.main:t.palette.custom.grey[4]}}}),(0,M.jsx)(a.Z,{variant:"subtitle1",sx:function(t){return{mx:3,fontSize:"16px",lineHeight:"24px",fontWeight:500,color:e.due_date?t.palette.primary.main:t.palette.custom.grey[4]}},children:e.due_date?"Due ".concat((0,h.L0)(new Date(e.due_date))):"Add Due Date"}),(!!e.due_date||et)&&(0,M.jsx)(C.Z,{onClick:gt,sx:function(t){return{ml:"auto",color:t.palette.custom.grey[4]}}})]}),et&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(u.Z,{sx:{mt:3,"& > *":{display:"flex",alignItems:"center",mb:2,cursor:"pointer"}},children:[(0,M.jsxs)(u.Z,{onClick:function(){return vt("today")},sx:function(t){return{}},children:[(0,M.jsx)(y.Z,{}),(0,M.jsx)(a.Z,{sx:{ml:3,fontSize:"16px",lineHeight:"24px",fontWeight:500},children:"Today"})]}),(0,M.jsxs)(u.Z,{onClick:function(){return vt("tomorrow")},sx:function(t){return{}},children:[(0,M.jsx)(y.Z,{}),(0,M.jsx)(a.Z,{sx:{ml:3,fontSize:"16px",lineHeight:"24px",fontWeight:500},children:"Tomorrow"})]}),(0,M.jsxs)(u.Z,{onClick:function(){return vt("currentWeek")},sx:function(t){return{}},children:[(0,M.jsx)(y.Z,{}),(0,M.jsx)(a.Z,{sx:{ml:3,fontSize:"16px",lineHeight:"24px",fontWeight:500},children:"Current Week"})]}),(0,M.jsxs)(u.Z,{onClick:function(){st(!ot)},sx:function(t){return{}},children:[(0,M.jsx)(y.Z,{}),(0,M.jsx)(a.Z,{sx:{ml:3,fontSize:"16px",lineHeight:"24px",fontWeight:500},children:"Pick a Date"}),ot?(0,M.jsx)(S.Z,{sx:{ml:"auto"}}):(0,M.jsx)(w.Z,{sx:{ml:"auto"}})]})]}),ot&&(0,M.jsx)(I.w,{value:ct,onChange:ut,disablePast:!0,sx:{ml:-4,"& .MuiDialogActions-root":{display:"none"}}})]})]}),(0,M.jsx)(v.Z,{sx:{my:4}}),(0,M.jsxs)(u.Z,{children:[K&&(0,M.jsx)(b.Z,{sx:function(t){return{fontSize:"12px",lineHeight:"16px",fontWeight:500,color:t.palette.text.primary}},children:"Note"}),(0,M.jsx)(g.Z,{value:K,onChange:function(t){return Y(t.currentTarget.value)},onBlur:ht,placeholder:"Add note",multiline:!0,sx:function(t){return{width:"100%",maxHeight:"300px",overflow:"auto","&, & *":{"&, &:focus":{border:"0 !important",outline:"0 !important",padding:"0 !important",fontSize:"16px !important",lineHeight:"24px !important",fontWeight:"500 !important","&::placeholder":{opacity:"1 !important",color:"".concat(t.palette.custom.grey[4]," !important")}}}}}})]}),(0,M.jsx)(v.Z,{sx:{my:4}})]}),(0,M.jsxs)(u.Z,{sx:function(t){return{display:"flex",justifyContent:"space-between",alignItems:"center","& *":{color:t.palette.custom.grey[4]}}},children:[(0,M.jsx)(k.Z,{onClick:function(){return n(null)},sx:{ml:-2},children:(0,M.jsx)(z.Z,{})}),(0,M.jsx)(a.Z,{variant:"body1",sx:{mx:3,fontSize:"12px",lineHeight:"16px",fontWeight:500},children:"Created ".concat((0,h.L0)(new Date(e.creation_date)))}),(0,M.jsx)(k.Z,{onClick:function(){return mt(!0)},sx:{mr:-2},children:(0,M.jsx)(H.Z,{})})]})]})})}),[e,ct,K,U,Zt,gt,vt,jt,ht,ft,n,ot,et,m]);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(V.ZP,{nodeRef:c,in:!!e,timeout:L,onEntered:function(){N(!1)},onExit:function(){N(!0)},children:function(t){return(0,M.jsx)(u.Z,{ref:c,children:Z?(0,M.jsx)(F.Resizable,{width:O,onResize:bt,axis:"x",resizeHandles:["w"],minConstraints:[320,0],maxConstraints:[600,0],handle:(0,M.jsx)(u.Z,{sx:{display:m?void 0:"none",position:"absolute",top:0,left:"-5px",width:"10px",height:"100%",cursor:"ew-resize"}}),children:(0,M.jsxs)(u.Z,{sx:{position:"relative",width:e?B:0,minHeight:"100vh",overflowX:"hidden",transition:D?"".concat(L,"ms"):void 0},children:[(0,M.jsx)(u.Z,{sx:function(e){return(0,i.Z)((0,i.Z)({},kt(t)),{},{position:"absolute",top:0,width:B,maxWidth:"100%",transition:D?"".concat(L,"ms"):void 0})},children:yt}),(0,M.jsx)(u.Z,{sx:{width:"100%",transition:D?"".concat(L,"ms"):void 0}})]})}):(0,M.jsx)(u.Z,{sx:{position:"absolute",top:0,right:0,width:e?B:0,minHeight:"100vh",overflowX:"hidden",zIndex:2,transition:D?"".concat(L,"ms"):void 0},children:(0,M.jsx)(u.Z,{sx:(0,i.Z)((0,i.Z)({},kt(t)),{},{position:"absolute",top:0,right:e?0:"-".concat(B),width:B,transition:D?"".concat(L,"ms"):void 0}),children:yt})})})}}),(0,M.jsx)(R.W,{open:pt,onClose:function(){return mt(!1)},children:(0,M.jsx)(E,{onClose:function(){return mt(!1)},task:e})})]})},Q=function(t){var e=t.task,n=t.updateTask,i=t.activeTask,r=t.setActiveTask,l=(0,o.Z)(),c=(0,s.Z)(l.breakpoints.up("md")),d=(0,x.useMemo)((function(){if(!e.due_date)return null;var t=new Date(e.due_date);return(0,h.GZ)(t)}),[e.due_date]);return(0,M.jsxs)(u.Z,{onClick:function(t){r(e)},className:j()({active:e.id===(null===i||void 0===i?void 0:i.id)}),sx:function(t){return{display:"flex",alignItems:"center",minHeight:"60px",mb:1,mr:2,borderRadius:"10px",py:2,px:c?4:3,backgroundColor:t.palette.custom.basicBg,cursor:"pointer",transition:"".concat(L,"ms"),"&.active":{background:t.palette.custom.tasksActiveItemBg}}},children:[(0,M.jsx)(p.Z,{checked:e.completed,onClick:function(t){n({id:e.id,completed:!e.completed}),t.stopPropagation()},sx:function(t){return{p:c?void 0:0,color:t.palette.custom.grey[400]}}}),(0,M.jsxs)(u.Z,{sx:{ml:c?5:2,mr:c?5:2},children:[(0,M.jsx)(a.Z,{variant:"subtitle1",sx:{fontSize:"16px",lineHeight:"24px",fontWeight:500},children:e.title}),(d||e.note)&&(0,M.jsxs)(a.Z,{variant:"subtitle2",sx:function(t){return{mt:1,fontSize:"14px",lineHeight:"20px",color:t.palette.custom.grey[4]}},children:[(0,M.jsx)(u.Z,{component:"span",sx:function(t){return{color:"danger"===(null===d||void 0===d?void 0:d.accent)?t.palette.custom.red:"warning"===(null===d||void 0===d?void 0:d.accent)?t.palette.warning.light:""}},children:!!d&&d.label}),!!d&&!!e.note&&" - ",!!e.note&&"Note"]})]}),(0,M.jsx)(u.Z,{onClick:function(t){n({id:e.id,important:!e.important}),t.stopPropagation()},sx:{ml:"auto",cursor:"pointer"},children:e.important?(0,M.jsx)(f.Z,{sx:function(t){return{display:"block",fill:t.palette.custom.red}}}):(0,M.jsx)(m.Z,{sx:function(t){return{display:"block",fill:t.palette.custom.grey[2]}}})})]})},U=function(t){var e=t.currentIndex,n=t.items;return(0,M.jsx)(M.Fragment,{children:n.map((function(t,n){return(0,M.jsx)(u.Z,{sx:{display:e!==n?"none":void 0},children:t.children},n)}))})},G=n(763),X=n.n(G),J=n(2419),K=n(3433),Y=n(2506),$=n(8007),tt=n(5523),et=n(2138),nt=n(7889),it=n(7128),rt=n(758),ot=n(119),st=function(t){var e=t.onClose,n=t.defaultList,i=(0,B.T)(),l=(0,o.Z)(),c=(0,s.Z)(l.breakpoints.up("md")),m=(0,B.C)(P.U),f=(0,x.useMemo)((function(){return(0,K.Z)(m.lists.map((function(t){return{label:t.name,value:t.id}})))}),[m.lists]),Z=(0,x.useState)({title:"",important:!1,due_date:null,note:"",list:n?f.find((function(t){return t.value===n.id})):null}),j=(0,r.Z)(Z,1)[0],g=$.Ry({title:$.Z_().trim().required(),note:$.Z_().trim()}),v=function(){var t=(0,A.Z)((0,O.Z)().mark((function t(){var n,r;return(0,O.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={id:(0,ot.k)(m.data.map((function(t){return t.id}))),title:k.title,creation_date:(new Date).toISOString(),due_date:k.due_date&&(0,h.tQ)(k.due_date),note:k.note||null,list_id:(null===(n=k.list)||void 0===n?void 0:n.value)||null,important:k.important,completed:!1},t.next=3,i((0,W.vr)(r));case 3:e();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=(0,Y.TA)({validationSchema:g,onSubmit:v,initialValues:j,enableReinitialize:!0}),k=b.values,y=b.errors,C=b.touched,w=b.handleSubmit,S=b.handleChange,T=b.setFieldValue;return(0,M.jsxs)(u.Z,{component:"form",onSubmit:w,noValidate:!0,sx:function(t){return{width:c?"700px":void 0,maxWidth:"100%","& > *":{width:"100%"}}},children:[(0,M.jsx)(a.Z,{variant:"h3",sx:{fontSize:"24px",lineHeight:"24px",marginBottom:"24px"},children:"Add a task"}),(0,M.jsx)(nt.j,{name:"title",required:!0,value:k.title,onChange:S,autoFocus:!0,error:!!y.title&&C.title,helperText:!!y.title&&C.title&&(0,et.p)("title"),placeholder:"Title",label:"Title",sx:{mb:2}}),(0,M.jsx)(tt.Z,{control:(0,M.jsx)(p.Z,{name:"important",checked:k.important,onChange:S}),label:"Important",sx:{mb:2}}),(0,M.jsx)(it.M,{value:k.due_date,onChange:function(t){T("due_date",t)},disablePast:!0,sx:{mb:2}}),(0,M.jsx)(rt.w,{name:"list",value:k.list,placeholder:"Select task list...",onChange:function(t){return T("list",t)},options:f,styles:{control:{height:"56px",marginBottom:l.spacing(2)}}}),(0,M.jsx)(nt.j,{name:"note",required:!0,value:k.note,onChange:S,multiline:!0,minRows:3,placeholder:"Note",label:"Note"}),(0,M.jsxs)(u.Z,{sx:{display:"flex",justifyContent:"flex-end",mt:4,"& > *:not(:last-child)":{mr:2}},children:[(0,M.jsx)(d.Z,{onClick:e,variant:"text",children:"Cancel"}),(0,M.jsxs)(d.Z,{type:"submit",variant:"contained",disabled:m.loading.includes(N.ew),children:["Add",m.loading.includes(N.ew)&&(0,M.jsx)(D.l,{})]})]})]})},at=function(t){var e=t.onClose,n=t.taskList,i=(0,B.T)(),r=(0,o.Z)(),l=(0,s.Z)(r.breakpoints.up("md")),c=(0,B.C)(P.U),x=function(){var t=(0,A.Z)((0,O.Z)().mark((function t(){return(0,O.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i((0,W.aj)(n.id));case 2:e();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,M.jsxs)(u.Z,{sx:function(t){return{width:l?"310px":void 0,maxWidth:"100%","& > *":{width:"100%"}}},children:[(0,M.jsx)(a.Z,{variant:"h3",sx:{fontSize:"24px",lineHeight:"24px",marginBottom:"24px"},children:"Are you sure?"}),(0,M.jsx)(a.Z,{sx:function(t){return{fontSize:"14px",lineHeight:"20px",color:t.palette.custom.grey[2]}},children:"Task list will be permanently deleted"}),(0,M.jsxs)(u.Z,{sx:{display:"flex",justifyContent:"flex-end",mt:4,"& > *:not(:last-child)":{mr:2}},children:[(0,M.jsx)(d.Z,{onClick:e,variant:"text",children:"Cancel"}),(0,M.jsxs)(d.Z,{onClick:x,variant:"contained",color:"error",disabled:c.loading.includes(N.eE),children:["Delete",c.loading.includes(N.eE)&&(0,M.jsx)(D.l,{})]})]})]})},lt=function(t){var e=t.onClose,n=t.taskList,i=(0,B.T)(),l=(0,o.Z)(),c=(0,s.Z)(l.breakpoints.up("md")),p=(0,B.C)(P.U),m=(0,x.useState)({name:(null===n||void 0===n?void 0:n.name)||""}),f=(0,r.Z)(m,1)[0],h=$.Ry({name:$.Z_().trim().required()}),Z=function(){var t=(0,A.Z)((0,O.Z)().mark((function t(){return(0,O.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i((0,W.hs)({id:n.id,name:g.name}));case 2:e();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),j=(0,Y.TA)({validationSchema:h,onSubmit:Z,initialValues:f,enableReinitialize:!0}),g=j.values,v=j.errors,b=j.touched,k=j.handleSubmit,y=j.handleChange;return(0,M.jsxs)(u.Z,{component:"form",onSubmit:k,noValidate:!0,sx:function(t){return{width:c?"700px":void 0,maxWidth:"100%","& > *":{width:"100%"}}},children:[(0,M.jsx)(a.Z,{variant:"h3",sx:{fontSize:"24px",lineHeight:"24px",marginBottom:"24px"},children:"Rename list"}),(0,M.jsx)(nt.j,{name:"name",required:!0,value:g.name,onChange:y,autoFocus:!0,error:!!v.name&&b.name,helperText:!!v.name&&b.name&&(0,et.p)("name"),placeholder:"New name",label:"New name"}),(0,M.jsxs)(u.Z,{sx:{display:"flex",justifyContent:"flex-end",mt:4,"& > *:not(:last-child)":{mr:2}},children:[(0,M.jsx)(d.Z,{onClick:e,variant:"text",children:"Cancel"}),(0,M.jsxs)(d.Z,{type:"submit",variant:"contained",disabled:p.loading.includes(N.bm),children:["Rename",p.loading.includes(N.bm)&&(0,M.jsx)(D.l,{})]})]})]})},ct=n(7806),ut=n(2226),dt=n(8008),xt=n(9483),pt=function(t){var e=t.title,n=t.splitOption,i=t.setSplitOption,r=t.sortOption,l=t.setSortOption,c=t.controls,d=(0,o.Z)(),p=(0,s.Z)(d.breakpoints.up("md")),m=(0,x.useContext)(xt.l),f=m.open,h=m.setOpen;return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(u.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",height:p?"".concat(mt,"px"):void 0,mb:ht},children:[(0,M.jsxs)(u.Z,{sx:{display:"flex",alignItems:"center"},children:[!p&&(0,M.jsx)(k.Z,{onClick:function(){return h(!f)},sx:function(t){return{p:0,mr:3,color:t.palette.custom.contrastTextColor}},children:(0,M.jsx)(dt.Z,{})}),(0,M.jsx)(a.Z,{variant:"h3",sx:function(t){return{fontSize:"22px",lineHeight:"28px",color:t.palette.custom.contrastTextColor}},children:e})]}),c&&(0,M.jsxs)(u.Z,{sx:function(t){return{display:"flex","& svg":{fontSize:"24px",color:t.palette.custom.contrastTextColor}}},children:[(0,M.jsx)(k.Z,{onClick:function(){return c.setEdit(!0)},children:(0,M.jsx)(ut.Z,{})}),(0,M.jsx)(k.Z,{onClick:function(){return c.setDelete(!0)},children:(0,M.jsx)(H.Z,{})})]})]}),(0,M.jsx)(u.Z,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center",height:"".concat(ft,"px"),mb:ht},children:(0,M.jsx)(ct.mr,{splitOption:n,setSplitOption:i,sortOption:r,setSortOption:l})})]})},mt=40,ft=38,ht=2,Zt=function(t){var e=t.header,n=t.visibleTasks,p=t.targetTaskList,m=t.splitValue,f=t.sortValue,h=t.sx,Z=(0,B.T)(),j=(0,o.Z)(),g=(0,s.Z)(j.breakpoints.up("md")),v=(0,x.useMemo)((function(){return g?8:4}),[g]),b=(0,x.useMemo)((function(){return g?4:3}),[g]),k=(0,x.useState)(0),y=(0,r.Z)(k,2),C=y[0],w=y[1],S=(0,x.useState)(!1),T=(0,r.Z)(S,2),_=T[0],I=T[1],z=(0,x.useState)(!1),H=(0,r.Z)(z,2),O=H[0],A=H[1],P=(0,x.useState)(!1),D=(0,r.Z)(P,2),N=D[0],E=D[1],F=(0,x.useState)(null),V=(0,r.Z)(F,2),L=V[0],G=V[1];(0,x.useEffect)((function(){G(n.find((function(t){return t.id===(null===L||void 0===L?void 0:L.id)}))||null)}),[n]),(0,x.useEffect)((function(){w(0)}),[m]);var K=(0,x.useCallback)((function(t){Z((0,W.xJ)(t))}),[]),Y=(0,x.useMemo)((function(){var t=parseInt(j.spacing(v))+mt+parseInt(j.spacing(ht))+ft+parseInt(j.spacing(ht))+parseInt(j.spacing(4))+40+parseInt(j.spacing(b));return"calc(100vh - ".concat(t,"px)")}),[b,v,j]),$=(0,x.useMemo)((function(){if(!n.length)return(0,M.jsx)(a.Z,{variant:"subtitle1",sx:function(t){return{color:t.palette.custom.contrastTextColor}},children:"No tasks"});var t=function(t){switch(f){case"byTitle":return X().sortBy(t,(function(t){return[t.title,t.creation_date]}));case"byImportant":return X().sortBy(t,(function(t){return[!t.important,t.creation_date]}));case"byCompleted":return X().sortBy(t,(function(t){return[!t.completed,t.creation_date]}));case"":return X().sortBy(t,(function(t){return t.creation_date}))}};switch(m){case"":return t(n).map((function(t){return(0,M.jsx)(Q,{task:t,updateTask:K,activeTask:L,setActiveTask:G},t.id)}));case"byCompleted":return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(l.Z,{value:C,onChange:function(t,e){return w(e)},sx:{mb:2,"& .MuiTab-root":{minWidth:"180px",textTransform:"capitalize"}},children:[(0,M.jsx)(c.Z,{label:"To Do"}),(0,M.jsx)(c.Z,{label:"Completed"})]}),(0,M.jsx)(U,{currentIndex:C,items:[{children:t(n.filter((function(t){return!t.completed}))).map((function(t){return(0,M.jsx)(Q,{task:t,updateTask:K,activeTask:L,setActiveTask:G},t.id)}))},{children:t(n.filter((function(t){return t.completed}))).map((function(t){return(0,M.jsx)(Q,{task:t,updateTask:K,activeTask:L,setActiveTask:G},t.id)}))}]})]});case"byImportant":return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(l.Z,{value:C,onChange:function(t,e){return w(e)},sx:{mb:2,"& .MuiTab-root":{minWidth:"180px",textTransform:"capitalize"}},children:[(0,M.jsx)(c.Z,{label:"Important"}),(0,M.jsx)(c.Z,{label:"Not important"})]}),(0,M.jsx)(U,{currentIndex:C,items:[{children:t(n.filter((function(t){return t.important}))).map((function(t){return(0,M.jsx)(Q,{task:t,updateTask:K,activeTask:L,setActiveTask:G},t.id)}))},{children:t(n.filter((function(t){return!t.important}))).map((function(t){return(0,M.jsx)(Q,{task:t,updateTask:K,activeTask:L,setActiveTask:G},t.id)}))}]})]})}}),[n,m,f,C,K,L]);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(u.Z,{sx:{flexGrow:1,display:"flex"},children:[(0,M.jsxs)(u.Z,{sx:function(t){return(0,i.Z)({flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"space-between",px:g?4:3,pt:v,pb:b,background:t.palette.custom.tasksBg},h||{})},children:[(0,M.jsxs)(u.Z,{children:[(0,M.jsx)(pt,{title:e.title,splitOption:e.splitOption,setSplitOption:e.setSplitOption,sortOption:e.sortOption,setSortOption:e.setSortOption,controls:e.controls?{edit:O,setEdit:A,delete:N,setDelete:E}:void 0}),(0,M.jsx)(u.Z,{sx:{maxHeight:Y,overflow:"auto",mr:-2},children:$})]}),(0,M.jsxs)(d.Z,{variant:"text",className:"button_add",onClick:function(){return I(!0)},sx:function(t){return{display:"flex",justifyContent:"flex-start",alignItems:"center",p:2,background:t.palette.custom.tasksButtonBg,"&:hover":{background:"#8f82cc"},"&, & *":{color:t.palette.common.white}}},children:[(0,M.jsx)(J.Z,{sx:{mr:2}}),"Add a task"]})]}),(0,M.jsx)(q,{activeTask:L,setActiveTask:G,updateTask:K})]}),(0,M.jsx)(R.W,{open:_,onClose:function(){return I(!1)},children:(0,M.jsx)(st,{onClose:function(){return I(!1)},defaultList:p})}),p&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(R.W,{open:O,onClose:function(){return A(!1)},children:(0,M.jsx)(lt,{onClose:function(){return A(!1)},taskList:p})}),(0,M.jsx)(R.W,{open:N,onClose:function(){return E(!1)},children:(0,M.jsx)(at,{onClose:function(){return E(!1)},taskList:p})})]})]})}},7806:function(t,e,n){n.d(e,{AU:function(){return s},Fo:function(){return a},mr:function(){return l}});var i=n(4554),r=n(758),o=n(184),s=[{label:"No split",value:""},{label:"Split by selected",value:"byCompleted"},{label:"Split by importance",value:"byImportant"}],a=[{label:"No sorting",value:""},{label:"Sort by title",value:"byTitle"},{label:"Sort by completed",value:"byCompleted"},{label:"Sort by important",value:"byImportant"}],l=function(t){var e=t.splitOption,n=t.setSplitOption,l=t.sortOption,c=t.setSortOption;return(0,o.jsxs)(i.Z,{sx:{display:"flex","& > *:not(:last-child)":{mr:2}},children:[(0,o.jsx)(r.w,{classNamePrefix:"react-select",value:e,onChange:function(t){n(t)},options:s}),(0,o.jsx)(r.w,{classNamePrefix:"react-select",value:l,onChange:function(t){c(t)},options:a})]})}}}]);
//# sourceMappingURL=825.58e8da37.chunk.js.map